\documentclass{article}
\usepackage[braket,qm]{qcircuit}
\begin{document}
    \[
        \Qcircuit @C=1em @R=1.2em {
            \lstick{} & \gate{H} & \ctrl{3} & \qw       & \qw       & \gate{H} & \meter      & \cw & \cctrl{6}\\
            \lstick{} & \gate{H} & \qw      & \ctrl{2}  & \qw       & \gate{H} & \meter      & \cw & \cw & \cctrl{3}\\
            \lstick{} & \gate{H} & \qw      & \qw       &\ctrl{1}   & \gate{H} & \meter      & \cw & \cw & \cw & \cctrl{1}
            \inputgroupv{1}{3}{.8em}{3em}{\ket{0}^{\otimes 3}\quad} \\
            \lstick{}  & \qw     & \multigate{6}{g_1}&\multigate{6}{g_2} &\multigate{6}{g_3} & \qw & \qw & \qw & \qw & \qw & \gate{Z} & \qw \\
            \lstick{}  & \qw     & \ghost{g_1}  & \ghost{g_2}   & \ghost{g_3}                & \qw & \qw & \qw & \qw & \gate{Z} & \qw & \qw \\
            \lstick{}  & \qw     & \ghost{g_1}  & \ghost{g_2}   & \ghost{g_3}                & \qw & \qw & \qw & \qw & \qw & \qw & \qw \\
            \lstick{}  & \qw     & \ghost{g_1}  & \ghost{g_2}   & \ghost{g_3}                & \qw & \qw & \qw & \gate{Z} & \qw & \qw & \qw \\
            \lstick{}  & \qw     & \ghost{g_1}  & \ghost{g_2}   & \ghost{g_3}                & \qw & \qw & \qw & \qw & \qw & \qw & \qw \\
            \lstick{}  & \qw     & \ghost{g_1}  & \ghost{g_2}   & \ghost{g_3}                & \qw & \qw & \qw & \qw & \qw & \qw & \qw \\
            \lstick{}  & \qw     & \ghost{g_1}  & \ghost{g_2}   & \ghost{g_3}                & \qw & \qw & \qw & \qw & \qw & \qw & \qw 
            \inputgroupv{4}{10}{.8em}{6em}{\ket{0}^{\otimes 7}\quad}
        }
    \]
\end{document}